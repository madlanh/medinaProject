{% extends "base.html" %}
{% block title %}Beranda - SMA Medina Bandung{% endblock %}
{% block content %}
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Inter',sans-serif;background:#f5f5f5}
.hero{position:relative;height:600px;background:linear-gradient(135deg,#1a3a52 0%,#2c5f7e 100%);overflow:hidden}
.hero-slider{position:relative;height:100%;width:100%}
.slide{position:absolute;width:100%;height:100%;opacity:0;transition:opacity 1.2s}
.slide.active{opacity:1}
.slide-img{width:100%;height:100%;object-fit:cover;opacity:0.4}
.hero-content{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;color:#fff;z-index:10;max-width:850px;padding:0 30px}
.hero-content h1{font-size:3.5em;font-weight:800;margin-bottom:25px;line-height:1.1;text-shadow:2px 4px 8px rgba(0,0,0,0.3);letter-spacing:-0.5px}
.hero-content p{font-size:1.3em;font-weight:400;margin-bottom:35px;text-shadow:1px 2px 4px rgba(0,0,0,0.4);line-height:1.6}
.hero-cta{display:inline-block;padding:16px 45px;background:#d4a53c;color:#1a3a52;font-weight:700;font-size:1.1em;border-radius:50px;text-decoration:none;transition:all 0.3s;box-shadow:0 8px 20px rgba(212,165,60,0.4)}
.hero-cta:hover{transform:translateY(-3px);box-shadow:0 12px 28px rgba(212,165,60,0.5);background:#e6b84d}
.slider-controls{position:absolute;bottom:40px;left:50%;transform:translateX(-50%);display:flex;gap:15px;z-index:10}
.slide-dot{width:14px;height:14px;border-radius:50%;background:rgba(255,255,255,0.4);cursor:pointer;transition:all 0.3s;border:2px solid rgba(255,255,255,0.6)}
.slide-dot.active{background:#d4a53c;width:40px;border-radius:8px;border-color:#d4a53c}
.intro{padding:80px 0;background:#fff}
.intro-wrap{display:grid;grid-template-columns:1.3fr 1fr;gap:60px;align-items:center}
.intro-text h2{font-size:2.6em;color:#1a3a52;margin-bottom:25px;font-weight:700;line-height:1.2}
.intro-text h2 span{color:#d4a53c}
.intro-text p{color:#555;font-size:1.08em;line-height:1.9;margin-bottom:18px}
.intro-link{color:#d4a53c;font-weight:600;font-size:1.05em;text-decoration:none;display:inline-flex;align-items:center;gap:8px;transition:gap 0.3s}
.intro-link:hover{gap:12px}
.stats-grid{display:grid;grid-template-columns:1fr 1fr;gap:25px}
.stat-card{background:linear-gradient(135deg,#f8f9fa 0%,#fff 100%);padding:30px 25px;border-radius:16px;text-align:center;border:2px solid #e9ecef;position:relative;overflow:hidden;transition:all 0.3s}
.stat-card::before{content:'';position:absolute;top:0;left:0;width:5px;height:100%;background:linear-gradient(180deg,#d4a53c,#c09535)}
.stat-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(0,0,0,0.08);border-color:#d4a53c}
.stat-num{font-size:3em;font-weight:800;color:#1a3a52;margin-bottom:8px;font-family:'Poppins',sans-serif}
.stat-label{color:#666;font-weight:600;font-size:0.95em;letter-spacing:0.5px}
.section{padding:80px 0}
.section-dark{background:#f8f9fa}
.section-title{text-align:center;margin-bottom:60px}
.section-title h2{font-size:2.8em;color:#1a3a52;font-weight:700;margin-bottom:12px;position:relative;display:inline-block}
.section-title h2::after{content:'';position:absolute;bottom:-10px;left:50%;transform:translateX(-50%);width:70px;height:5px;background:linear-gradient(90deg,#d4a53c,#c09535);border-radius:3px}
.news-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:35px}
.news-item{background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 4px 20px rgba(0,0,0,0.06);transition:all 0.4s}
.news-item:hover{transform:translateY(-8px);box-shadow:0 12px 35px rgba(0,0,0,0.12)}
.news-thumb{height:220px;background:linear-gradient(135deg,#1a3a52,#d4a53c);display:flex;align-items:center;justify-content:center}
.news-thumb i{font-size:4em;color:rgba(255,255,255,0.9)}
.news-body{padding:28px}
.news-meta{display:flex;align-items:center;gap:8px;color:#d4a53c;font-size:0.88em;font-weight:600;margin-bottom:15px}
.news-title{font-size:1.35em;color:#1a3a52;font-weight:600;margin-bottom:15px;line-height:1.4;min-height:70px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
.news-title a{color:inherit;text-decoration:none;transition:color 0.3s}
.news-title a:hover{color:#d4a53c}
.news-excerpt{color:#666;font-size:0.95em;line-height:1.7;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}

/* FORMAL PRESTASI SECTION - Professional Table Design */
.prestasi-section{background:#fff;padding:80px 0}
.prestasi-table-wrap{background:#fff;border-radius:12px;box-shadow:0 2px 15px rgba(0,0,0,0.08);overflow:hidden}
.prestasi-table{width:100%;border-collapse:collapse}
.prestasi-table thead{background:linear-gradient(135deg,#1a3a52,#2c5f7e);color:#fff}
.prestasi-table thead th{padding:18px 20px;text-align:left;font-weight:600;font-size:0.95em;letter-spacing:0.5px}
.prestasi-table thead th:first-child{border-radius:12px 0 0 0}
.prestasi-table thead th:last-child{border-radius:0 12px 0 0}
.prestasi-table tbody tr{border-bottom:1px solid #e9ecef;transition:background 0.2s}
.prestasi-table tbody tr:hover{background:#f8f9fa}
.prestasi-table tbody td{padding:20px;color:#555;font-size:0.95em}
.prestasi-table tbody td:first-child{font-weight:600;color:#1a3a52}
.prestasi-badge{display:inline-block;padding:6px 14px;background:#fff3cd;color:#856404;border-radius:6px;font-size:0.85em;font-weight:600;border:1px solid #ffeaa7}
.prestasi-icon{color:#d4a53c;margin-right:8px;font-size:1.1em}

/* FORMAL ALUMNI SECTION - Professional Card Grid */
.alumni-section{background:#f8f9fa;padding:80px 0}
.alumni-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:35px}
.alumni-card{background:#fff;border-radius:12px;padding:35px;box-shadow:0 2px 15px rgba(0,0,0,0.08);border-left:4px solid #1a3a52;transition:all 0.3s}
.alumni-card:hover{transform:translateY(-5px);box-shadow:0 8px 25px rgba(0,0,0,0.12)}
.alumni-header{display:flex;align-items:flex-start;gap:25px;margin-bottom:25px;padding-bottom:20px;border-bottom:2px solid #f0f0f0}
.alumni-avatar{width:80px;height:80px;border-radius:50%;background:linear-gradient(135deg,#1a3a52,#2c5f7e);display:flex;align-items:center;justify-content:center;color:#fff;font-size:2em;font-weight:700;flex-shrink:0}
.alumni-info h4{font-size:1.3em;color:#1a3a52;font-weight:700;margin-bottom:8px}
.alumni-status{color:#d4a53c;font-weight:600;font-size:0.95em}
.alumni-graduation{color:#999;font-size:0.88em;margin-top:5px}
.alumni-quote{color:#555;line-height:1.8;font-size:1em;font-style:italic;position:relative;padding-left:25px}
.alumni-quote::before{content:'"';position:absolute;left:0;top:-5px;font-size:2.5em;color:#d4a53c;line-height:1;font-family:Georgia,serif}

.contact{background:#1a3a52;color:#fff;padding:80px 0}
.contact-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:50px;text-align:center}
.contact-icon{font-size:3.5em;color:#d4a53c;margin-bottom:20px}
.contact-title{font-size:1.3em;font-weight:600;margin-bottom:15px}
.contact-info{font-size:1.05em;line-height:1.8;opacity:0.95}
.cta{background:linear-gradient(135deg,#d4a53c 0%,#c09535 100%);padding:70px 0;text-align:center}
.cta h3{color:#1a3a52;font-size:2.4em;font-weight:700;margin-bottom:18px}
.cta p{color:#fff;font-size:1.15em;margin-bottom:35px}
.cta-btn{display:inline-block;padding:18px 50px;background:#1a3a52;color:#fff;font-weight:700;font-size:1.15em;border-radius:50px;text-decoration:none;transition:all 0.3s;box-shadow:0 8px 20px rgba(26,58,82,0.3)}
.cta-btn:hover{transform:translateY(-3px);box-shadow:0 12px 28px rgba(26,58,82,0.4);background:#0f2838}
.container{max-width:1200px;margin:0 auto;padding:0 30px}
.empty-state{text-align:center;padding:80px 40px;background:#f8f9fa;border-radius:12px;border:2px dashed #dee2e6}
.empty-icon{font-size:4em;color:#ccc;margin-bottom:20px}
.empty-text{color:#999;font-size:1.1em}
@media (max-width:968px){
.intro-wrap{grid-template-columns:1fr}
.stats-grid{grid-template-columns:1fr}
.news-grid{grid-template-columns:1fr}
.alumni-grid{grid-template-columns:1fr}
.contact-grid{grid-template-columns:1fr}
}
</style>

<div class="hero">
    <div class="hero-slider">
        {% if banners %}{% for banner in banners %}
        <div class="slide {% if loop.first %}active{% endif %}">
            <img src="{{ banner.image_url if banner.image_url else url_for('static',filename='images/sch-pic1.jpg') }}" class="slide-img" alt="{{ banner.judul }}">
        </div>
        {% endfor %}{% else %}
        <div class="slide active">
            <img src="{{ url_for('static',filename='images/sch-pic1.jpg') }}" class="slide-img" alt="SMA Medina">
        </div>
        {% endif %}
        <div class="hero-content">
            <h1>Selamat Datang di SMA Medina Bandung</h1>
            <p>Mencetak Generasi Berakhlak Mulia, Berprestasi, dan Berwawasan Global</p>
            <a href="{{ url_for('site.visi_misi') }}" class="hero-cta">Pelajari Lebih Lanjut</a>
        </div>
        <div class="slider-controls" id="sliderDots"></div>
    </div>
</div>

<section class="intro">
    <div class="container">
        <div class="intro-wrap">
            <div class="intro-text">
                <h2>Pendidikan Berkualitas <span>Berbasis Nilai Islam</span></h2>
                <p>SMA Medina Bandung telah berdiri sejak 1985 dan terus berkomitmen memberikan pendidikan yang mengintegrasikan ilmu pengetahuan modern dengan nilai-nilai keislaman yang kuat.</p>
                <p>Kami fokus pada pengembangan karakter siswa melalui pembelajaran inovatif, kegiatan ekstrakurikuler beragam, dan pembinaan akhlak berkelanjutan.</p>
                <a href="{{ url_for('site.visi_misi') }}" class="intro-link">Pelajari Visi & Misi Kami <i class="fas fa-arrow-right"></i></a>
            </div>
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-num">{{ sekolah_info.jumlah_siswa if sekolah_info else '720' }}</div><div class="stat-label">SISWA AKTIF</div></div>
                <div class="stat-card"><div class="stat-num">{{ sekolah_info.jumlah_guru if sekolah_info else '58' }}</div><div class="stat-label">GURU PROFESIONAL</div></div>
                <div class="stat-card"><div class="stat-num">{{ sekolah_info.jumlah_kelas if sekolah_info else '24' }}</div><div class="stat-label">RUANG KELAS</div></div>
                <div class="stat-card"><div class="stat-num">A</div><div class="stat-label">AKREDITASI</div></div>
            </div>
        </div>
    </div>
</section>

{% if berita %}
<section class="section section-dark">
    <div class="container">
        <div class="section-title"><h2>Berita Terkini</h2></div>
        <div class="news-grid">
            {% for item in berita %}
            <div class="news-item">
                <div class="news-thumb"><i class="fas fa-newspaper"></i></div>
                <div class="news-body">
                    <div class="news-meta"><i class="fas fa-calendar"></i> {{ item.tanggal.strftime('%d %B %Y') if item.tanggal is defined and item.tanggal.strftime else item.tanggal }}</div>
                    <h3 class="news-title"><a href="{{ url_for('site.berita_detail',berita_id=item.id) }}">{{ item.judul }}</a></h3>
                    <p class="news-excerpt">{{ item.ringkasan }}</p>
                </div>
            </div>
            {% endfor %}
        </div>
        <div style="text-align:center;margin-top:50px"><a href="{{ url_for('site.berita_terbaru') }}" class="hero-cta">Lihat Semua Berita</a></div>
    </div>
</section>
{% endif %}

<section class="prestasi-section" id="prestasi">
    <div class="container">
        <div class="section-title"><h2>Prestasi Terbaru</h2></div>
        {% if prestasi %}
        <div class="prestasi-table-wrap">
            <table class="prestasi-table">
                <thead>
                    <tr>
                        <th><i class="fas fa-trophy prestasi-icon"></i>Nama Prestasi</th>
                        <th><i class="fas fa-layer-group prestasi-icon"></i>Skala</th>
                        <th><i class="fas fa-calendar prestasi-icon"></i>Tanggal</th>
                        <th><i class="fas fa-building prestasi-icon"></i>Penyelenggara</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in prestasi %}
                    <tr>
                        <td><strong>{{ item.nama_prestasi }}</strong></td>
                        <td><span class="prestasi-badge">{{ item.skala }}</span></td>
                        <td>{{ item.tanggal }}</td>
                        <td>{{ item.penyelenggara }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% else %}
        <div class="empty-state"><div class="empty-icon"><i class="fas fa-trophy"></i></div><p class="empty-text">Belum ada data prestasi saat ini</p></div>
        {% endif %}
    </div>
</section>

<section class="alumni-section" id="profil-alumni">
    <div class="container">
        <div class="section-title"><h2>Profil Alumni</h2></div>
        {% if alumni %}
        <div class="alumni-grid">
            {% for item in alumni %}
            <div class="alumni-card">
                <div class="alumni-header">
                    <div class="alumni-avatar">{{ item.nama[0] if item.nama else 'A' }}</div>
                    <div class="alumni-info">
                        <h4>{{ item.nama }}</h4>
                        <div class="alumni-status">{{ item.status_saat_ini }}</div>
                        <div class="alumni-graduation"><i class="fas fa-graduation-cap"></i> Alumni SMA Medina</div>
                    </div>
                </div>
                <p class="alumni-quote">{{ item.testimoni }}</p>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <div class="empty-state"><div class="empty-icon"><i class="fas fa-user-graduate"></i></div><p class="empty-text">Belum ada testimoni alumni saat ini</p></div>
        {% endif %}
    </div>
</section>

<section class="contact" id="kontak">
    <div class="container">
        <div class="section-title"><h2 style="color:#fff">Hubungi Kami</h2></div>
        <div class="contact-grid">
            <div><div class="contact-icon"><i class="fas fa-map-marker-alt"></i></div><h4 class="contact-title">Alamat</h4><p class="contact-info">{{ sekolah_info.alamat if sekolah_info and sekolah_info.alamat else 'Jl. KH. Ahmad Dahlan / Banteng No. 13-15, Burangrang, Kec. Lengkong, Kota Bandung' }}</p></div>
            <div><div class="contact-icon"><i class="fas fa-phone"></i></div><h4 class="contact-title">Telepon</h4><p class="contact-info">{{ sekolah_info.telepon if sekolah_info and sekolah_info.telepon else '(022) 7322207' }}</p></div>
            <div><div class="contact-icon"><i class="fas fa-envelope"></i></div><h4 class="contact-title">Email</h4><p class="contact-info">{{ sekolah_info.email if sekolah_info and sekolah_info.email else 'smamedinabdg@gmail.com' }}</p></div>
        </div>
    </div>
</section>

<section class="cta">
    <div class="container">
        <h3>Tertarik Bergabung dengan SMA Medina?</h3>
        <p>Daftarkan putra-putri Anda dan bergabunglah dengan keluarga besar SMA Medina Bandung</p>
        <a href="{{ url_for('site.info_sekolah') }}" class="cta-btn">Informasi Pendaftaran</a>
    </div>
</section>

<script>
var slideIndex=0;var slides=document.querySelectorAll('.slide');var autoTimer;
function showSlide(){slides.forEach(function(s){s.classList.remove('active')});var dots=document.querySelectorAll('.slide-dot');dots.forEach(function(d){d.classList.remove('active')});slides[slideIndex].classList.add('active');if(dots[slideIndex])dots[slideIndex].classList.add('active')}
function nextSlide(){slideIndex++;if(slideIndex>=slides.length)slideIndex=0;showSlide()}
function startAuto(){autoTimer=setInterval(nextSlide,5000)}
var dotsContainer=document.getElementById('sliderDots');
for(var i=0;i<slides.length;i++){(function(idx){var dot=document.createElement('div');dot.className='slide-dot';if(idx===0)dot.classList.add('active');dot.onclick=function(){clearInterval(autoTimer);slideIndex=idx;showSlide();startAuto()};dotsContainer.appendChild(dot)})(i)}
startAuto();document.querySelector('.hero').addEventListener('mouseenter',function(){clearInterval(autoTimer)});document.querySelector('.hero').addEventListener('mouseleave',startAuto);
</script>
{% endblock %}
