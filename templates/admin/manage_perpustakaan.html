{% extends "base.html" %}

{% block title %}Kelola Perpustakaan{% endblock %}

{% block content %}
<div class="container" style="max-width: 900px; margin-top: 50px;">
    <h1 style="color: #343a40;">Kelola Perpustakaan <span style="font-size: 0.7em; font-weight: normal; color: #6c757d;">(Mode Dummy)</span></h1>
    <p><a href="{{ url_for('admin_dashboard') }}" style="color: #007bff; text-decoration: none;">â† Kembali ke Dashboard</a></p>
    <hr style="margin-bottom: 30px;">
    
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
            <div class="alert alert-{{ category }}" style="padding: 10px; margin-bottom: 15px; border-radius: 4px; font-size: 0.9em; {% if category == 'success' %}background-color: #d4edda; color: #155724;{% else %}background-color: #f8d7da; color: #721c24;{% endif %}">
                {{ message }}
            </div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <form method="POST" style="background: #f8f9fa; padding: 25px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
        <h3 style="margin-top: 0; color: #007bff;">Jam Operasional</h3>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px;">
            <div class="form-group">
                <label for="jam_senin_jumat" style="display: block; margin-bottom: 5px; font-weight: bold;">Senin - Jumat</label>
                <input type="text" id="jam_senin_jumat" name="jam_senin_jumat" required 
                       value="{{ perpus.jam_buka.senin_jumat }}"
                       placeholder="07.30 - 16.00"
                       style="width: 100%; padding: 10px; box-sizing: border-box; border: 1px solid #ccc; border-radius: 4px;">
            </div>
            <div class="form-group">
                <label for="jam_sabtu" style="display: block; margin-bottom: 5px; font-weight: bold;">Sabtu</label>
                <input type="text" id="jam_sabtu" name="jam_sabtu" required 
                       value="{{ perpus.jam_buka.sabtu }}"
                       placeholder="08.00 - 14.00"
                       style="width: 100%; padding: 10px; box-sizing: border-box; border: 1px solid #ccc; border-radius: 4px;">
            </div>
        </div>

        <h3 style="margin-top: 30px; margin-bottom: 15px; color: #007bff;">Koleksi Perpustakaan</h3>
        
        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-bottom: 20px;">
            <div class="form-group">
                <label for="buku_pelajaran" style="display: block; margin-bottom: 5px; font-weight: bold;">Buku Pelajaran</label>
                <input type="number" id="buku_pelajaran" name="buku_pelajaran" required 
                       value="{{ perpus.koleksi.buku_pelajaran }}"
                       style="width: 100%; padding: 10px; box-sizing: border-box; border: 1px solid #ccc; border-radius: 4px;">
            </div>
            <div class="form-group">
                <label for="buku_fiksi" style="display: block; margin-bottom: 5px; font-weight: bold;">Buku Fiksi</label>
                <input type="number" id="buku_fiksi" name="buku_fiksi" required 
                       value="{{ perpus.koleksi.buku_fiksi }}"
                       style="width: 100%; padding: 10px; box-sizing: border-box; border: 1px solid #ccc; border-radius: 4px;">
            </div>
            <div class="form-group">
                <label for="buku_referensi" style="display: block; margin-bottom: 5px; font-weight: bold;">Buku Referensi</label>
                <input type="number" id="buku_referensi" name="buku_referensi" required 
                       value="{{ perpus.koleksi.buku_referensi }}"
                       style="width: 100%; padding: 10px; box-sizing: border-box; border: 1px solid #ccc; border-radius: 4px;">
            </div>
            <div class="form-group">
                <label for="majalah_jurnal" style="display: block; margin-bottom: 5px; font-weight: bold;">Majalah & Jurnal</label>
                <input type="number" id="majalah_jurnal" name="majalah_jurnal" required 
                       value="{{ perpus.koleksi.majalah_jurnal }}"
                       style="width: 100%; padding: 10px; box-sizing: border-box; border: 1px solid #ccc; border-radius: 4px;">
            </div>
            <div class="form-group">
                <label for="e_book" style="display: block; margin-bottom: 5px; font-weight: bold;">E-Book</label>
                <input type="number" id="e_book" name="e_book" required 
                       value="{{ perpus.koleksi.e_book }}"
                       style="width: 100%; padding: 10px; box-sizing: border-box; border: 1px solid #ccc; border-radius: 4px;">
            </div>
        </div>

        <h3 style="margin-top: 30px; margin-bottom: 15px; color: #007bff;">Fasilitas</h3>
        
        <div class="form-group" style="margin-bottom: 15px;">
            <label for="fasilitas" style="display: block; margin-bottom: 5px; font-weight: bold;">Daftar Fasilitas (pisahkan dengan koma)</label>
            <textarea id="fasilitas" name="fasilitas" required rows="4"
                   style="width: 100%; padding: 10px; box-sizing: border-box; border: 1px solid #ccc; border-radius: 4px;">{{ perpus.fasilitas | join(', ') }}</textarea>
            <small style="color: #6c757d;">Pisahkan setiap fasilitas dengan koma (,)</small>
        </div>

        <h3 style="margin-top: 30px; margin-bottom: 15px; color: #007bff;">Layanan</h3>
        
        <div class="form-group" style="margin-bottom: 20px;">
            <label for="layanan" style="display: block; margin-bottom: 5px; font-weight: bold;">Daftar Layanan (pisahkan dengan koma)</label>
            <textarea id="layanan" name="layanan" required rows="4"
                   style="width: 100%; padding: 10px; box-sizing: border-box; border: 1px solid #ccc; border-radius: 4px;">{{ perpus.layanan | join(', ') }}</textarea>
            <small style="color: #6c757d;">Pisahkan setiap layanan dengan koma (,)</small>
        </div>

        <button type="submit" style="padding: 12px 25px; background-color: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 1.1em; transition: background-color 0.3s;">
            Perbarui Data Perpustakaan
        </button>
    </form>
</div>
{% endblock %}